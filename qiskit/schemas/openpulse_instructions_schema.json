{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "http://www.qiskit.org/schemas/openpulse_instructions_schema.json",
        
    "type": "object",
    "required": ["name"],
    "properties": {
        "name": {"type": "string"},
        "t0": {"type": "integer", "minimum": 0},
        "ch": {"type": "string"},
        "conditional": {"$ref": "file:conditional_schema.json"}
    },
            
    "oneOf": [
        {"title": "Standard pulse",
        "required": ["t0", "ch"],
        "properties": {
            "name": {"not": {"enum": ["pv","fc","acquire"]}}}},
        {
        "title": "Persistent value pulse",
        "required": ["val", "t0", "ch"],
        "properties": {
            "name": {"enum": ["pv"]},
            "val": {
                "type": "array",
                "minItems": 2,
                "maxItems": 2,
                "items": {"type": "number"}}
        }
        },
        {
        "title": "Frame change pulse",
        "required": ["phase", "t0", "ch"],
        "properties": {
            "name": {"enum": ["fc"]},
            "phase": {"type": "number"}
        }
        },
        {
        "title": "Acquisition",
        "required": ["tstart","tend","qubits","register_slot"],
        "properties": {
            "name": {"enum": ["acquire"]},
            "tstart": {"type": "number"},
            "tend": {"type": "number"},
            "qubits": {"type": "array", "minItems": 1, "items": {"type": "integer", "minimum": 0}},
            "register_slot": {"type": "array", "minItems": 1, "items": {"type": "integer", "minimum": 0}},
            "kernels": {"type": "array"},
            "discriminators": {"type": "array"}
        }
        },
        {
            "title": "snapshot",
            "properties": {
                "name": {"enum": ["#snapshot"]},
                "register": {"maxItems": 0},
                "required": ["t0"],
                "params": {
                    "minItems": 2,
                    "items": {
                        "type": "string"
                    }
                },
                "texparams": {"maxItems": 0}
            }
            }	
    ]   
}

